<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Flip Clock - Dark Compact</title>
<style>
  :root {
    --bg: #1a1a1a;
    --card: #2a2a2a;
    --text: #e0e0e0;
    --muted: #999;
    --accent: #3a3a3a;
    --radius: 6px;
    --font: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }

  * { box-sizing: border-box }
  html, body {
    height: 100%;
    margin: 0;
    background: var(--bg);
    font-family: var(--font);
    color: var(--text);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8px;
  }

  .clock {
    display: flex;
    gap: 6px;
    align-items: center;
    background: var(--bg);
    padding: 6px 8px;
    border-radius: var(--radius);
  }

  .unit {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
  }

  .label {
    font-size: 9px;
    color: var(--muted);
    letter-spacing: 0.5px;
    user-select: none;
  }

  .flip {
    position: relative;
    width: 56px;
    height: 36px;
    perspective: 800px;
  }

  .card {
    position: relative;
    width: 100%;
    height: 100%;
    background: var(--card);
    border-radius: var(--radius);
    border: 1px solid var(--accent);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .card-top, .card-bottom {
    position: absolute;
    left: 0; right: 0;
    height: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 20px;
    color: var(--text);
  }

  .card-top { top: 0; border-bottom: 1px solid var(--accent); }
  .card-bottom { bottom: 0; border-top: 1px solid var(--accent); }

  .flip-anim-top, .flip-anim-bottom {
    position: absolute;
    left: 0; right: 0;
    height: 50%;
    overflow: hidden;
    backface-visibility: hidden;
    transform-style: preserve-3d;
    pointer-events: none;
    visibility: hidden;
    font-weight: 600;
    font-size: 20px;
    color: var(--text);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .flip-anim-top { top: 0; transform-origin: bottom; }
  .flip-anim-bottom { bottom: 0; transform-origin: top; }

  .flip.play .flip-anim-top {
    visibility: visible;
    animation: flipTop 260ms ease-in forwards;
    z-index: 2;
  }

  .flip.play .flip-anim-bottom {
    visibility: visible;
    animation: flipBottom 260ms 260ms ease-out forwards;
    z-index: 2;
  }

  @keyframes flipTop {
    0% { transform: rotateX(0deg); }
    100% { transform: rotateX(-90deg); }
  }

  @keyframes flipBottom {
    0% { transform: rotateX(90deg); }
    100% { transform: rotateX(0deg); }
  }

  .colon {
    font-size: 18px;
    font-weight: 600;
    color: var(--muted);
    user-select: none;
  }
</style>
</head>
<body>
<div class="clock" role="timer" aria-live="polite">
  <div class="unit">
    <div class="label">HRS</div>
    <div class="flip" data-type="hours">
      <div class="card">
        <div class="card-top"><div>00</div></div>
        <div class="card-bottom"><div>00</div></div>
      </div>
      <div class="flip-anim-top"><div>00</div></div>
      <div class="flip-anim-bottom"><div>00</div></div>
    </div>
  </div>

  <div class="colon">:</div>

  <div class="unit">
    <div class="label">MIN</div>
    <div class="flip" data-type="minutes">
      <div class="card">
        <div class="card-top"><div>00</div></div>
        <div class="card-bottom"><div>00</div></div>
      </div>
      <div class="flip-anim-top"><div>00</div></div>
      <div class="flip-anim-bottom"><div>00</div></div>
    </div>
  </div>

  <div class="colon">:</div>

  <div class="unit">
    <div class="label">SEC</div>
    <div class="flip" data-type="seconds">
      <div class="card">
        <div class="card-top"><div>00</div></div>
        <div class="card-bottom"><div>00</div></div>
      </div>
      <div class="flip-anim-top"><div>00</div></div>
      <div class="flip-anim-bottom"><div>00</div></div>
    </div>
  </div>
</div>

<script>
(function(){
  const pad = n => String(n).padStart(2,'0');
  const flips = {
    hours: document.querySelector('.flip[data-type="hours"]'),
    minutes: document.querySelector('.flip[data-type="minutes"]'),
    seconds: document.querySelector('.flip[data-type="seconds"]')
  };

  function setStatic(flip, value){
    flip.querySelector('.card-top div').textContent = value;
    flip.querySelector('.card-bottom div').textContent = value;
  }

  function flipTo(flip, newVal){
    const current = flip.querySelector('.card-top div').textContent;
    if(current === newVal) return;
    flip.querySelector('.flip-anim-top div').textContent = current;
    flip.querySelector('.flip-anim-bottom div').textContent = newVal;
    flip.classList.remove('play');
    void flip.offsetWidth;
    flip.classList.add('play');
    setTimeout(() => {
      setStatic(flip, newVal);
      flip.classList.remove('play');
    }, 520);
  }

  function tick(){
    const now = new Date();
    const h = pad(now.getHours()), m = pad(now.getMinutes()), s = pad(now.getSeconds());
    flipTo(flips.seconds, s);
    if(s === '00') flipTo(flips.minutes, m);
    if(m === '00' && s === '00') flipTo(flips.hours, h);
  }

  const now0 = new Date();
  setStatic(flips.hours, pad(now0.getHours()));
  setStatic(flips.minutes, pad(now0.getMinutes()));
  setStatic(flips.seconds, pad(now0.getSeconds()));

  tick();
  const msToNext = 1000 - (Date.now() % 1000);
  setTimeout(() => setInterval(tick, 1000), msToNext);
})();
</script>
</body>
</html>

</body>
</html>

